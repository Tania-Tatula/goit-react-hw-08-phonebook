{"version":3,"sources":["redux/contacts/contacts-actions.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-selector.js","redux/contacts/contacts-reduser.js","redux/auth/auth-actions.js","redux/auth/auth-reducer.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/Loader/Loader.js","routes.js","components/Navigation/Navigation.js","components/UserMenu/default-avatar.png","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.js","index.js"],"names":["fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactSuccess","addContactsError","addContactRequest","changeFilter","deleteContactSuccess","deleteContactsError","deleteContactRequest","submit","name","number","dispatch","a","item","actions","axios","post","data","message","deleteContact","contactId","delete","then","catch","error","fetchContacts","get","getValue","state","contacts","filter","getVisibleContacts","createSelector","items","filterLowerCase","toLowerCase","includes","createReducer","_","payload","map","contact","alert","id","combineReducers","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","initialUserState","email","user","authActions","token","setError","isAutenticated","defaults","baseURL","headers","common","Authorization","register","credentials","response","logIn","logOut","getCurrentUser","getState","persistedToken","auth","getIsAuthenticated","getUsername","Loader","className","Component","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","connect","isAuthenticated","authSelectors","to","routes","exact","style","activeStyle","container","alignItems","avatar","marginRight","mapDispatchToProps","onLogout","authOperations","defaultAvatar","src","alt","width","type","onClick","AuthNav","component","redirectTo","routeProps","render","props","restricted","HomeView","lazy","RegisterPage","LoginPage","ContactsPage","App","this","onGetCurrentUser","fallback","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","contactsReduser","persistReducer","authReducer","devContacts","process","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.e8a3d8f6.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst fetchContactsRequest = createAction(\"contacts/fetchContactsRequest\");\r\nconst fetchContactsSuccess = createAction(\"contacts/fetchContactsSuccess\");\r\nconst fetchContactsError = createAction(\"contacts/fetchContactsError\");\r\n\r\nconst addContactSuccess = createAction(\"contacts/addContactSuccess\");\r\nconst addContactsError = createAction(\"contacts/addContactsError\");\r\nconst addContactRequest = createAction(\"contacts/addContactRequest\");\r\n\r\nconst changeFilter = createAction(\"contacts/filter\");\r\n\r\nconst deleteContactSuccess = createAction(\"contacts/deleteContactSuccess\");\r\nconst deleteContactsError = createAction(\"contacts/deleteContactsError\");\r\nconst deleteContactRequest = createAction(\"contacts/deleteContactRequest\");\r\n\r\nexport default {\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  changeFilter,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactsError,\r\n  deleteContactSuccess,\r\n  deleteContactsError,\r\n  deleteContactRequest,\r\n};\r\n","import axios from \"axios\";\r\nimport actions from \"./contacts-actions\";\r\n\r\nconst fetchContacts = () => (dispatch) => {\r\n  dispatch(actions.fetchContactsRequest());\r\n\r\n  axios\r\n    .get(\"/contacts\")\r\n    .then(({ data }) => dispatch(actions.fetchContactsSuccess(data)))\r\n    .catch((error) => dispatch(actions.fetchContactsError(error.message)));\r\n};\r\n\r\nconst submit =\r\n  ({ name, number }) =>\r\n  async (dispatch) => {\r\n    const item = { name, number };\r\n\r\n    dispatch(actions.addContactRequest());\r\n\r\n    try {\r\n      const { data } = await axios.post(\"/contacts\", item);\r\n      dispatch(actions.addContactSuccess(data));\r\n    } catch (error) {\r\n      dispatch(actions.addContactsError(error.message));\r\n    }\r\n\r\n  };\r\n\r\nconst deleteContact = (contactId) => (dispatch) => {\r\n  dispatch(actions.deleteContactRequest());\r\n  axios\r\n    .delete(`/contacts/${contactId}`)\r\n    .then(() => dispatch(actions.deleteContactSuccess(contactId)))\r\n    .catch((error) => dispatch(actions.deleteContactsError(error.message)));\r\n};\r\n\r\nexport default {\r\n  submit,\r\n  deleteContact,\r\n  fetchContacts,\r\n};\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst getValue = (state) => state.contacts.filter;\r\nconst getAllContacts = (state) => state.contacts.items;\r\n\r\nconst getVisibleContacts = createSelector(\r\n  [getValue, getAllContacts],\r\n  (filter, items) => {\r\n    const filterLowerCase = filter.toLowerCase();\r\n    return items.filter(({ name }) =>\r\n      name.toLowerCase().includes(filterLowerCase)\r\n    );\r\n  }\r\n);\r\n\r\nexport default {\r\n  getValue,\r\n  getVisibleContacts,\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport actions from \"./contacts-actions\";\r\n\r\nconst {\r\n  fetchContactsSuccess,\r\n  addContactSuccess,\r\n  deleteContactSuccess,\r\n  changeFilter,\r\n} = actions;\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) =>\r\n    state.map((contact) => contact.name).includes(payload.name)\r\n      ? alert(`${payload.name} is already in contacts.`)\r\n      : [payload, ...state],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n});\r\n","import { createAction } from '@reduxjs/toolkit';\n\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst loginRequest = createAction('auth/loginRequest');\nconst loginSuccess = createAction('auth/loginSuccess');\nconst loginError = createAction('auth/loginError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\nexport default {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport authActions from './auth-actions';\n\nconst initialUserState = { name: null, email: null };\n\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => initialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\n\nconst setError = (_, { payload }) => payload;\n\nconst error = createReducer(null, {\n  [authActions.registerError]: setError,\n  [authActions.loginError]: setError,\n  [authActions.logoutError]: setError,\n  [authActions.getCurrentUserError]: setError,\n});\n\nconst isAutenticated =  createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n  [authActions.logoutSuccess]: () => false,\n\n\n})\n\nexport default combineReducers({\n  user,\n  token,\n  isAutenticated,\n  error,\n});\n","import axios from 'axios';\nimport authActions from './auth-actions';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\n/*\n * POST @ /users/signup\n * body { name, email, password }\n *\n * После успешной регистрации добавляем токен в HTTP-заголовок\n */\nconst register = credentials => async dispatch => {\n  dispatch(authActions.registerRequest());\n\n  try {\n    const response = await axios.post('https://connections-api.herokuapp.com/users/signup', credentials);\n\n    token.set(response.data.token);\n    dispatch(authActions.registerSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n  }\n};\n\n/*\n * POST @ /users/login\n * body:\n *    { email, password }\n *\n * После успешного логина добавляем токен в HTTP-заголовок\n */\nconst logIn = credentials => async dispatch => {\n  dispatch(authActions.loginRequest());\n\n  try {\n    const response = await axios.post('https://connections-api.herokuapp.com/users/login', credentials);\n\n    token.set(response.data.token);\n    dispatch(authActions.loginSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.loginError(error.message));\n  }\n};\n\n/*\n * POST @ /users/logout\n * headers:\n *    Authorization: Bearer token\n *\n * 1. После успешного логаута, удаляем токен из HTTP-заголовка\n */\nconst logOut = () => async dispatch => {\n  dispatch(authActions.logoutRequest());\n\n  try {\n    await axios.post('https://connections-api.herokuapp.com/users/logout');\n\n    token.unset();\n    dispatch(authActions.logoutSuccess());\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n\n/*\n * GET @ /users/current\n * headers:\n *    Authorization: Bearer token\n *\n * 1. Забираем токен из стейта через getState()\n * 2. Если токена нет, выходим не выполняя никаких операций\n * 3. Если токен есть, добавляет его в HTTP-заголовок и выполянем операцию\n */\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n\n  if (!persistedToken) {\n    return;\n  }\n\n  token.set(persistedToken);\n  dispatch(authActions.getCurrentUserRequest());\n\n  try {\n    const response = await axios.get('https://connections-api.herokuapp.com/users/current');\n\n    dispatch(authActions.getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\n\nexport default { register, logIn, logOut, getCurrentUser};\n","const getIsAuthenticated = state => state.auth.isAutenticated;\n\nconst getUsername = state => state.auth.user.name;\n\nexport default {\n  getIsAuthenticated,\n  getUsername,\n};\n","import { Component } from \"react\";\r\n\r\nexport default class Loader extends Component {\r\n  render() {\r\n    return (\r\n      <div className='preloader'>\r\n        <div className='preloader__row'>\r\n          <div className='preloader__item'></div>\r\n          <div className='preloader__item'></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default {\r\n  home: \"/\",\r\n  registerPage: \"/register\",\r\n  loginPage: \"/login\",\r\n  contactsPage: \"/contacts\",\r\n};\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport routes from \"../../routes\";\r\nimport { connect } from \"react-redux\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nconst Navigation = ({isAuthenticated}) => {\r\n  return (\r\n    <nav>\r\n    <NavLink to={routes.home}\r\n     exact         \r\n     style={styles.link}\r\n     activeStyle={styles.activeLink}\r\n>\r\n      Главная\r\n    </NavLink>\r\n\r\n    {isAuthenticated && (\r\n    <NavLink to={routes.contactsPage}\r\n     exact         \r\n     style={styles.link}\r\n     activeStyle={styles.activeLink}\r\n   >\r\n      Заметки\r\n    </NavLink>\r\n)}\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Navigation);\r\n","export default __webpack_public_path__ + \"static/media/default-avatar.e44fc4e2.png\";","import React from 'react';\nimport { connect } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport defaultAvatar from './default-avatar.png';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  avatar: {\n    marginRight: 4,\n  },\n  name: {\n    fontWeight: 700,\n    marginRight: 12,\n  },\n};\n\nconst UserMenu = ({ avatar, name, onLogout }) => (\n  <div style={styles.container}>\n    <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\n    <span style={styles.name}>Welcome, {name}</span>\n    <button type=\"button\" onClick={onLogout}>\n      Logout\n    </button>\n  </div>\n);\nconst mapStateToProps = state => ({\n  name: authSelectors.getUsername(state),\n  avatar: defaultAvatar,\n});\n\nconst mapDispatchToProps = {\n  onLogout: authOperations.logOut,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport routes from '../../routes';\n\nconst styles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    padding: 12,\n    fontWeight: 700,\n    color: '#2A363B',\n  },\n  activeLink: {\n    color: '#E84A5F',\n  },\n};\n\nconst AuthNav = () => (\n  <div>\n    <NavLink\n              to={routes.registerPage}\n\n      exact\n      style={styles.link}\n      activeStyle={styles.activeLink}\n    >\n      Регистрация\n    </NavLink>\n    <NavLink\n      to={routes.loginPage}\n      exact\n      style={styles.link}\n      activeStyle={styles.activeLink}\n    >\n      Логин\n    </NavLink>\n\n\n\n  </div>\n);\n\nexport default AuthNav;\n","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport Navigation from \"../Navigation\";\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\n\r\n\r\nconst AppBar = ({isAuthenticated}) => {\r\n  return (\r\n    <header className ='Nav'>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n\r\n    </header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps =(state) => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state)\r\n})\r\n\r\nexport default connect(mapStateToProps)(AppBar);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\r\n * - В противном случае рендерит компонент\r\n */\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);","// import \"./App.css\";\nimport React, { Component, Suspense, lazy } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Loader from \"./components/Loader\";\nimport AppBar from \"./components/AppBar\";\nimport \"./style.css\";\nimport routes from \"./routes\";\nimport { connect } from \"react-redux\";\nimport { authOperations } from \"./redux/auth\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\n\nconst HomeView = lazy(() =>\n  import(\"./views/HomeView\" /*webpackChunkName *home-view**/)\n);\nconst RegisterPage = lazy(() =>\n  import(\"./views/RegisterPage\" /*webpackChunkName *movies-page**/)\n);\nconst LoginPage = lazy(() =>\n  import(\"./views/LoginPage\" /*webpackChunkName *movie-details-page**/)\n);\nconst ContactsPage = lazy(() =>\n  import(\"./views/ContactsPage\" /*webpackChunkName *movie-details-page**/)\n);\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n  render() {\n    return (\n      <>\n        <AppBar />\n\n        <Suspense fallback={<Loader />}>\n          <Switch>\n            <PublicRoute exact path={routes.home} component={HomeView} />\n            <PublicRoute exact path={routes.registerPage} restricted\n              redirectTo='/contacts' component={RegisterPage} />\n            <PublicRoute\n              path={routes.loginPage}\n              restricted\n              redirectTo='/contacts'\n              component={LoginPage}\n            />\n            <PrivateRoute\n              path={routes.contactsPage}\n              component={ContactsPage}\n              redirectTo='/login'\n            />\n\n            <Route component={HomeView} />\n          </Switch>\n        </Suspense>\n      </>\n    );\n  }\n}\n\n// const App = () => {\n//   return (\n//     <>\n//       <AppBar />\n\n//       <Suspense fallback={<Loader />}>\n//         <Switch>\n//           <Route exact path={routes.home} component={HomeView} />\n//           <Route exact path={routes.registerPage} component={RegisterPage} />\n//           <Route path={routes.loginPage} component={LoginPage} />\n//           <Route path={routes.contactsPage} component={ContactsPage} />\n\n//           <Route component={HomeView} />\n//         </Switch>\n//       </Suspense>\n//     </>\n//   );\n// };\n\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\nexport default connect(null, mapDispatchToProps)(App);\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\n// import logger from \"redux-logger\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport { contactsReduser } from \"./contacts\";\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { authReducer } from './auth';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  // logger,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: { contacts: contactsReduser,\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n  },\r\n  middleware,\r\n  devContacts: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\n\r\nexport default { store, persistor };\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { PersistGate } from \"redux-persist/es/integration/react\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store.store}>\r\n      <PersistGate loading={null} persistor={store.persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}